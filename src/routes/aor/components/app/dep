$ var XMLHttpRequest = require('xhr2');

var tradesPromise = new Promise(function(resolve,reject) {
    var request = new XMLHttpRequest();
    request.open('GET', "http://aquabox/card/" + input.card + "/trades");
    request.responseType = 'json';
    // When the request loads, check whether it was successful
    request.onload = function() {
        if (request.status === 200) {
        // If successful, resolve the promise by passing back the request response
          resolve(request.response);
        } else {
        // If it fails, reject the promise with a error message
          reject(Error('Trades didn\'t load successfully; error'));
        }
    };
    request.send();
});
var ordersPromise = new Promise(function(resolve,reject) {
    var request = new XMLHttpRequest();
    request.open('GET', "http://aquabox/card/" + input.card + "/orders");
    request.responseType = 'json';
    // When the request loads, check whether it was successful
    request.onload = function() {
        if (request.status === 200) {
        // If successful, resolve the promise by passing back the request response
          resolve(request.response);
        } else {
        // If it fails, reject the promise with a error message
          reject(Error('Orders didn\'t load successfully; error'));
        }
    };
    request.send();
});
var levelsPromise = new Promise(function(resolve,reject) {
    var request = new XMLHttpRequest();
    request.open('GET', "http://aquabox/aor/card/"+input.card);
    request.responseType = 'json';
    // When the request loads, check whether it was successful
    request.onload = function() {
        if (request.status === 200) {
        // If successful, resolve the promise by passing back the request response
          resolve(request.response);
        } else {
        // If it fails, reject the promise with a error message
          reject(Error('Levels info didn\'t load successfully; error'));
        }
    };
    request.send();
});
<div>
    <await(levels from levelsPromise)>
            </await>
    <hr/>
    <await(trades from tradesPromise)> 
        <await(orders from ordersPromise)>
            <trades-panel orders=orders trades=trades/>
        </await>
    </await>
</div>
